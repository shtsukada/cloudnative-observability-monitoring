extends: default

yaml-files:
  - '*.yaml'
  - '*.yml'

ignore: |
  config/**
  # HelmのGoテンプレート混在で誤検知が出やすいので一時的に除外
  charts/**/templates/**

rules:
  # 80 だと GitHub Actions の式や長い URL がよく当たるので緩和
  # （一時的に 200 まで許容）
  line-length:
    max: 200
    allow-non-breakable-words: true
    allow-non-breakable-inline-mappings: true
    level: warning

  # GitHub Actions は 'on' キーを使うため誤検知しやすい
  truthy: disable

  # 先頭に '---' が無くても許容
  document-start: disable

  # {} 内のスペースは緩め（values の flow 記法対策・一時）
  braces:
    min-spaces-inside: 0
    max-spaces-inside: 2
    level: warning

  # [] は既存方針のまま緩め
  brackets:
    max-spaces-inside: 1
    level: warning

  # コロン前後のスペースは広めに許容（values の colons エラー対策）
  colons:
    max-spaces-before: 1
    max-spaces-after: 2
    level: warning

  # カンマ後のスペースが無くてもOK（exampleのcommas対策）
  commas:
    min-spaces-after: 0
    max-spaces-before: 0
    level: warning

  # 空行は少し多めに許容（Chart.yaml の empty-lines 対策）
  empty-lines:
    max: 2
    level: warning

  # コメントのインデントは厳密にしない
  comments:
    require-starting-space: false
    level: warning
  comments-indentation: disable

  # インデントの厳格さを下げる（netpolの“expected 2 but found 4”をwarningに）
  indentation:
    spaces: 2
    indent-sequences: whatever
    check-multi-line-strings: false
    level: warning
